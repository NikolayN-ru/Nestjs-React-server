{"ast":null,"code":"var _jsxFileName = \"/app/src/pages/Product/Product.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { BlockCount, ButtonInc, ButtonInCart, DescriptionMain, DescriptionPrice, DescriptionTitle, DescriptionWrapper, ItemWrapper, NumberCount, PhotoMain, PhotoMainWrapper, PhotoWrapper, Variation, Variations } from \"./Product.styled\";\nimport image from '../../assets/image.png';\nimport { useAppDispatch, useAppSelector } from \"../../redux\";\nimport { getProductItem } from \"../../redux/thunks/productItem\";\nimport { setCartProduct } from \"../../redux/reducers/cartReducer/cartReducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\n// import { setCartProduct } from \"../../redux/thunks/setCartProduct\";\n// const variation = [\n//     { number: '1234', color: '36ee33f7', count: 13, image: 'path-image' },\n//     { number: '3492', color: 'fdd718e0', count: 23, image: 'path-image' },\n//     { number: '1023', color: '1c22e1df', count: 40, image: 'path-image' },\n// ]\nconst Item = () => {\n  _s();\n\n  const [state, setState] = useState(image);\n  const [activeProduct, setActiveProduct] = useState(undefined);\n  const [count, setCount] = useState(1);\n  const {\n    itemId\n  } = useParams();\n  const dispatch = useAppDispatch();\n  const {\n    item\n  } = useAppSelector(state => state.productItem);\n  useEffect(() => {\n    dispatch(getProductItem(itemId));\n  }, []);\n  useEffect(() => {\n    setState(`http://localhost:5000/${item.image}`);\n  }, [item]);\n\n  const setProduct = prod => {\n    setActiveProduct({\n      title: item.name,\n      count: prod.count,\n      number: prod.number,\n      color: prod.color,\n      image: prod.image\n    });\n    setCount(1);\n  };\n\n  const setCartItem = () => {\n    const candidate = {\n      id: item._id,\n      category: item.category[0].title,\n      name: item.name,\n      price: item.price,\n      quantity: count,\n      image: activeProduct.image,\n      color: activeProduct.color\n    };\n    dispatch(setCartProduct(candidate));\n  };\n\n  const IncCount = () => count < activeProduct.count && setCount(prev => prev + 1);\n\n  const DecCount = () => setCount(prev => prev == 1 ? prev : prev - 1); // {console.log(activeProduct && activeProduct.image, 'image')}\n\n\n  return /*#__PURE__*/_jsxDEV(ItemWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(PhotoWrapper, {\n      children: /*#__PURE__*/_jsxDEV(PhotoMainWrapper, {\n        children: /*#__PURE__*/_jsxDEV(PhotoMain, {\n          src: activeProduct ? `http://localhost:5000/${activeProduct.image}` : state\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DescriptionWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(DescriptionTitle, {\n        children: item.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DescriptionMain, {\n        children: \"description -\\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DescriptionPrice, {\n        children: [\"\\u0446\\u0435\\u043D\\u0430: \", item.price, \" \\u0420.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DescriptionPrice, {\n        children: [item.length, \" \\u043C\\u0435\\u0442\\u0440\\u043E\\u0432 - \\u0432 \", item.weight, \" \\u0433\\u0440\\u0430\\u043C\\u043C\\u0430\\u0445\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DescriptionPrice, {\n        children: [\"\\u0441\\u0442\\u0440\\u0430\\u043D\\u0430 \\u043F\\u0440\\u043E\\u0438\\u0437\\u0432\\u043E\\u0434\\u0438\\u0442\\u0435\\u043B\\u044C: \", item.country]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DescriptionPrice, {\n        children: \"\\u0444\\u0438\\u0440\\u043C\\u0430:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DescriptionPrice, {\n        children: activeProduct && `количество мотков: ${activeProduct.count} - шт.`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Variations, {\n        children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), item.extraVariables && item.extraVariables.map((i, id) => /*#__PURE__*/_jsxDEV(Variation, {\n          onClick: () => setProduct(i),\n          color: i.color,\n          activate: activeProduct && i.number === activeProduct.number ? true : false,\n          children: i.number\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 93\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), activeProduct && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(BlockCount, {\n          children: [/*#__PURE__*/_jsxDEV(ButtonInc, {\n            onClick: IncCount,\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(NumberCount, {\n            children: count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(ButtonInc, {\n            onClick: DecCount,\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(ButtonInCart, {\n          onClick: () => setCartItem(),\n          disabled: activeProduct ? false : true,\n          children: \"\\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Item, \"tiKtCXOPwtrlQdIf/m4sqREzYsU=\", false, function () {\n  return [useParams, useAppDispatch, useAppSelector];\n});\n\n_c = Item;\nexport default Item;\n\nvar _c;\n\n$RefreshReg$(_c, \"Item\");","map":{"version":3,"names":["React","useEffect","useState","useParams","BlockCount","ButtonInc","ButtonInCart","DescriptionMain","DescriptionPrice","DescriptionTitle","DescriptionWrapper","ItemWrapper","NumberCount","PhotoMain","PhotoMainWrapper","PhotoWrapper","Variation","Variations","image","useAppDispatch","useAppSelector","getProductItem","setCartProduct","Item","state","setState","activeProduct","setActiveProduct","undefined","count","setCount","itemId","dispatch","item","productItem","setProduct","prod","title","name","number","color","setCartItem","candidate","id","_id","category","price","quantity","IncCount","prev","DecCount","length","weight","country","extraVariables","map","i"],"sources":["/app/src/pages/Product/Product.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport {\n    BlockCount, ButtonInc, ButtonInCart, DescriptionMain, DescriptionPrice, DescriptionTitle, DescriptionWrapper, ItemWrapper,\n    NumberCount, PhotoMain, PhotoMainWrapper, PhotoPet, PhotoWrapper, Variation, Variations, WrapperPhotoPet\n} from \"./Product.styled\";\nimport image from '../../assets/image.png';\nimport image2 from '../../assets/image2.webp';\nimport image3 from '../../assets/image3.webp';\nimport image4 from '../../assets/image4.webp';\nimport { useAppDispatch, useAppSelector } from \"../../redux\";\nimport { getProductItem } from \"../../redux/thunks/productItem\";\nimport { setCartProduct } from \"../../redux/reducers/cartReducer/cartReducer\";\nimport MenuPerson from \"../../components/Menus/MenuPerson/MenuPerson\";\n// import { setCartProduct } from \"../../redux/thunks/setCartProduct\";\n\n// const variation = [\n//     { number: '1234', color: '36ee33f7', count: 13, image: 'path-image' },\n//     { number: '3492', color: 'fdd718e0', count: 23, image: 'path-image' },\n//     { number: '1023', color: '1c22e1df', count: 40, image: 'path-image' },\n// ]\n\nconst Item: FC = () => {\n    const [state, setState] = useState<string>(image);\n    const [activeProduct, setActiveProduct] = useState<any>(undefined);\n    const [count, setCount] = useState<number>(1);\n    const { itemId } = useParams();\n    const dispatch = useAppDispatch();\n    const { item } = useAppSelector(state => state.productItem);\n\n    useEffect(() => {\n        dispatch(getProductItem(itemId));\n    }, [])\n\n    useEffect(() => {\n        setState(`http://localhost:5000/${item.image}`);\n    }, [item])\n\n    const setProduct = (prod: any) => {\n        setActiveProduct({\n            title: item.name, count: prod.count, number: prod.number,\n            color: prod.color, image: prod.image\n        });\n        setCount(1);\n    }\n\n    const setCartItem = () => {\n        const candidate = {\n            id: item._id, category: item.category[0].title,\n            name: item.name, price: item.price, quantity: count, image: activeProduct.image, color: activeProduct.color\n        }\n        dispatch(setCartProduct(candidate));\n    }\n\n    const IncCount = () => count < activeProduct.count && setCount(prev => prev + 1);\n    const DecCount = () => setCount(prev => prev == 1 ? prev : prev - 1);\n    // {console.log(activeProduct && activeProduct.image, 'image')}\n\n    return (\n        <ItemWrapper>\n            <PhotoWrapper>\n                <PhotoMainWrapper>\n                    {/* <PhotoMain src={`http://localhost:5000/${all.image && all.image}`} /> */}\n                    <PhotoMain src={activeProduct ? `http://localhost:5000/${activeProduct.image}` : state} />\n                </PhotoMainWrapper>\n                {/* <WrapperPhotoPet> */}\n                    {/* <PhotoPet src={`http://localhost:5000/${item.image && item.image}`} onClick={() => setState(`http://localhost:5000/${item.image && item.image}`)} /> */}\n                    {/* <PhotoPet src={image2} onClick={() => setState(image2)} /> */}\n                    {/* <PhotoPet src={image3} onClick={() => setState(image3)} /> */}\n                    {/* <PhotoPet src={image4} onClick={() => setState(image4)} /> */}\n                {/* </WrapperPhotoPet> */}\n            </PhotoWrapper>\n            <DescriptionWrapper>\n                <DescriptionTitle>\n                    {item.name}\n                </DescriptionTitle>\n                <DescriptionMain>\n                    description -описание\n                </DescriptionMain>\n                <DescriptionPrice>\n                    цена: {item.price} Р.\n                </DescriptionPrice>\n                <DescriptionPrice>\n                    {item.length} метров - в {item.weight} граммах\n                </DescriptionPrice>\n                <DescriptionPrice>\n                    страна производитель: {item.country}\n                </DescriptionPrice>\n                <DescriptionPrice>\n                    фирма:\n                    {/* {item.category[0] !== undefined && item.category[0].title} */}\n                </DescriptionPrice>\n                <DescriptionPrice>\n                    {activeProduct && `количество мотков: ${activeProduct.count} - шт.`}\n                </DescriptionPrice>\n                <Variations>\n                    {/* {variation.map((item, id) => <Variation key={id} color={item.color}></Variation>)} */}\n                    <hr />\n                    {item.extraVariables && item.extraVariables.map((i: any, id: number) => <Variation\n                        onClick={() => setProduct(i)}\n                        key={id}\n                        color={i.color}\n                        activate={activeProduct && (i.number === activeProduct.number) ? true : false}\n                    >\n                        {i.number}</Variation>)}\n                </Variations>\n                {activeProduct &&\n                    <>\n                        <BlockCount>\n                            <ButtonInc onClick={IncCount}>+</ButtonInc>\n                            <NumberCount>{count}</NumberCount>\n                            <ButtonInc onClick={DecCount}>-</ButtonInc>\n                        </BlockCount>\n                        <ButtonInCart onClick={() => setCartItem()}\n                            disabled={activeProduct ? false : true}>в корзину\n                        </ButtonInCart>\n                    </>\n                }\n            </DescriptionWrapper>\n        </ItemWrapper>\n    )\n}\n\nexport default Item;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}