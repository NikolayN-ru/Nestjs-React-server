{"ast":null,"code":"var _jsxFileName = \"/Users/nn/Desktop/try/LB1/frontend/src/pages/Main/Main.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport BreadCamps from \"../../components/BreadCamps/BreadCamps\";\nimport FilterBlock from \"../../components/FilterBlock/FilterBlock\";\nimport CardItems from \"../../components/CardItems/CardItems\";\nimport { MainContent, MainWrapper } from \"./Main.styled\";\nimport { getProducts } from \"../../redux/thunks/products\";\nimport { useAppDispatch, useAppSelector } from \"../../redux\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATE_METR = [\"менее 50\", \"50-100\", \"100-150\", \"150-200\", \"250-300\", \"свыше 300\"];\nconst filterMetr = {\n  1: [0, 50],\n  2: [50, 100],\n  3: [100, 150],\n  4: [150, 200],\n  5: [250, 300],\n  6: [300, 10000]\n};\nconst STATE = [\"меринос\", \"кашемир\", \"ангора\", \"лама\", \"вискоза\", \"мохер\", \"як\", \"люрекс\"];\nconst DATA = [STATE_METR, STATE, ['метраж', 'состав']];\n\nconst Main = () => {\n  _s();\n\n  const [state, setState] = useState();\n  const dispatch = useAppDispatch();\n  const {\n    all\n  } = useAppSelector(state => state.products);\n  useEffect(() => {\n    dispatch(getProducts());\n  }, []);\n  useEffect(() => {\n    setState(all);\n  }, [all]);\n\n  const setFilter = qery => {\n    let newState = [];\n    all.forEach((item, idx) => {\n      if (item.price >= qery.min && item.price <= qery.max) {\n        newState.push(item);\n      }\n    }); // todo по длине\n\n    if (qery.metrs.length) {\n      qery.metrs.forEach(item => {\n        console.log(filterMetr[item]);\n      });\n      newState = newState.filter((item, idx) => {\n        // console.log(item.length, item.length >= 200)\n        return item.length >= 150;\n      });\n    }\n\n    setState(newState);\n  };\n\n  const resetFilter = () => {\n    setState(all);\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(FilterBlock, {\n      localData: DATA,\n      setFilter: setFilter,\n      resetFilter: resetFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MainContent, {\n      children: [/*#__PURE__*/_jsxDEV(BreadCamps, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CardItems, {\n        all: state\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"JNXZBxU8SoAE8LlV0jamkTeHNTk=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useEffect","useState","BreadCamps","FilterBlock","CardItems","MainContent","MainWrapper","getProducts","useAppDispatch","useAppSelector","STATE_METR","filterMetr","STATE","DATA","Main","state","setState","dispatch","all","products","setFilter","qery","newState","forEach","item","idx","price","min","max","push","metrs","length","console","log","filter","resetFilter"],"sources":["/Users/nn/Desktop/try/LB1/frontend/src/pages/Main/Main.tsx"],"sourcesContent":["import React, { FC, useEffect, useState } from \"react\"\nimport BreadCamps from \"../../components/BreadCamps/BreadCamps\";\nimport FilterBlock from \"../../components/FilterBlock/FilterBlock\";\nimport CardItems from \"../../components/CardItems/CardItems\";\nimport { MainContent, MainWrapper } from \"./Main.styled\";\nimport { getProducts } from \"../../redux/thunks/products\";\nimport { useAppDispatch, useAppSelector } from \"../../redux\";\n\nconst STATE_METR = [\"менее 50\", \"50-100\", \"100-150\", \"150-200\", \"250-300\", \"свыше 300\"];\nconst filterMetr = { 1: [0, 50], 2: [50, 100], 3: [100, 150], 4: [150, 200], 5: [250, 300], 6: [300, 10000] }\nconst STATE = [\"меринос\", \"кашемир\", \"ангора\", \"лама\", \"вискоза\", \"мохер\", \"як\", \"люрекс\"];\n\nconst DATA = [\n    STATE_METR,\n    STATE,\n    ['метраж', 'состав']\n]\n\nconst Main: FC = () => {\n    const [state, setState] = useState<any>();\n    const dispatch = useAppDispatch();\n    const { all } = useAppSelector(state => state.products);\n\n    useEffect(() => { dispatch(getProducts()) }, []);\n    useEffect(() => { setState(all) }, [all]);\n\n    const setFilter = (qery: any) => {\n        let newState: any[] = [];\n        all.forEach((item: any, idx: number) => {\n            if (item.price >= qery.min && item.price <= qery.max) {\n                newState.push(item);\n            }\n        })\n\n        // todo по длине\n        if (qery.metrs.length) {\n\n            qery.metrs.forEach((item:any) => {\n                console.log(filterMetr[item]);\n                \n            })\n\n            newState = newState.filter((item: any, idx: number) => {\n                // console.log(item.length, item.length >= 200)\n                return item.length >= 150\n            })\n\n        }\n        setState(newState);\n\n    }\n\n    const resetFilter = () => {\n        setState(all)\n    }\n\n    return (\n        <MainWrapper>\n            <FilterBlock localData={DATA} setFilter={setFilter} resetFilter={resetFilter} />\n            <MainContent>\n                <BreadCamps />\n                <CardItems all={state} />\n            </MainContent>\n        </MainWrapper>\n    )\n}\n\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module"}