{"ast":null,"code":"var _jsxFileName = \"/Users/nn/Desktop/try/LB1/frontend/src/pages/Order/Order.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { api } from \"../../api/api\";\nimport { useAppDispatch, useAppSelector } from \"../../redux\";\nimport { Button, ContactsData, InputOrder, InputOrderTitle, InputOrderWrapper, OrderWrapper, Select, TitleWrite, WrapperSelect } from \"./Order.styled\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst deliverySelection = [\"Самовывоз, Фрунзе 40 \", \"Иные пункты выдачи \", \"Бесплатная доставка по г. Омску\"];\nconst paySection = [\"При получении\", \"Онлайн\", \"По счету\"];\n\nconst Order = () => {\n  _s();\n\n  const [total, setTotal] = useState(0);\n  const [delivery, setDelivery] = useState(undefined);\n  const [pay, setPay] = useState(undefined);\n  const [username, setUsername] = useState('');\n  const [phone, setPhone] = useState(); // обернуть в форму  2) OrderForm\n  // one input  настраиваемый инпут через пропсы\n\n  {\n    /* <WrapperSelect> */\n  } // WrapperSelect - <form> Select - type radio\n\n  const [order, setOrder] = useState([]);\n  const dispatch = useAppDispatch();\n  const {\n    cart\n  } = useAppSelector(state => state.cart);\n  useEffect(() => {\n    let q = []; // let q:<Arrray<{title: string, price: string}>> = [];\n\n    cart.forEach(item => q.push({\n      title: item.name,\n      price: item.price\n    }));\n    setOrder(q);\n    let w = 0;\n    cart.forEach(item => {\n      w += item.quantity * item.price;\n    });\n    setTotal(w);\n  }, [cart]);\n\n  const submitOrder = () => {\n    const date = Date().split(' ').slice(1, 4).toString();\n    api.post('/telegram', {\n      \"order\": `№ ${date}`,\n      \"price\": `${total} P`,\n      \"owner\": `${username}`,\n      \"phone\": `${phone}`,\n      \"delivery\": `${deliverySelection[delivery]}`,\n      \"pay\": `${paySection[pay]}`\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(OrderWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(TitleWrite, {\n      children: \"1. \\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043D\\u044B\\u0435 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ContactsData, {\n      children: [/*#__PURE__*/_jsxDEV(InputOrderWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(InputOrderTitle, {\n          children: \"\\u0424\\u0418\\u041E*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(InputOrder, {\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0424\\u0418\\u041E\",\n          onChange: e => setUsername(prev => e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputOrderWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(InputOrderTitle, {\n          children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(InputOrder, {\n          placeholder: \"+7 --- --- -- --\",\n          onChange: e => setPhone(prev => e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(InputOrderWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(InputOrderTitle, {\n          children: \"E-mail*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(InputOrder, {\n          placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 E-mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TitleWrite, {\n      children: \"2. \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043F\\u043E\\u0441\\u043E\\u0431 \\u0434\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(WrapperSelect, {\n      children: deliverySelection.map((item, idx) => /*#__PURE__*/_jsxDEV(Select, {\n        active: idx == delivery ? true : false,\n        onClick: () => setDelivery(idx),\n        children: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TitleWrite, {\n      children: \"3. \\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0441\\u043F\\u043E\\u0441\\u043E\\u0431 \\u043E\\u043F\\u043B\\u0430\\u0442\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(WrapperSelect, {\n      children: paySection.map((item, idx) => /*#__PURE__*/_jsxDEV(Select, {\n        active: idx == pay ? true : false,\n        onClick: () => setPay(idx),\n        children: item\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), delivery + 1 && pay + 1 ? /*#__PURE__*/_jsxDEV(Button, {\n      onClick: () => submitOrder(),\n      disabled: true,\n      children: \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 39\n    }, this) : false]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Order, \"154AYuSvyljs/BUi5TE4YT9nQWU=\", false, function () {\n  return [useAppDispatch, useAppSelector];\n});\n\n_c = Order;\nexport default Order;\n\nvar _c;\n\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"names":["React","useEffect","useState","api","useAppDispatch","useAppSelector","Button","ContactsData","InputOrder","InputOrderTitle","InputOrderWrapper","OrderWrapper","Select","TitleWrite","WrapperSelect","deliverySelection","paySection","Order","total","setTotal","delivery","setDelivery","undefined","pay","setPay","username","setUsername","phone","setPhone","order","setOrder","dispatch","cart","state","q","forEach","item","push","title","name","price","w","quantity","submitOrder","date","Date","split","slice","toString","post","e","prev","target","value","map","idx"],"sources":["/Users/nn/Desktop/try/LB1/frontend/src/pages/Order/Order.tsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { FC, useEffect, useState } from \"react\"\nimport { api } from \"../../api/api\";\nimport { useAppDispatch, useAppSelector } from \"../../redux\";\nimport { Button, ContactsData, InputOrder, InputOrderTitle, InputOrderWrapper, OrderWrapper, Select, TitleWrite, WrapperSelect } from \"./Order.styled\";\n\n\nconst deliverySelection = [\"Самовывоз, Фрунзе 40 \", \"Иные пункты выдачи \", \"Бесплатная доставка по г. Омску\"];\nconst paySection = [\"При получении\", \"Онлайн\", \"По счету\"];\n\nconst Order: FC = () => {\n    const [total, setTotal] = useState<any>(0);\n    const [delivery, setDelivery] = useState<any>(undefined);\n    const [pay, setPay] = useState<any>(undefined);\n    const [username, setUsername] = useState<string>('');\n    const [phone, setPhone] = useState<string>();\n\n    // обернуть в форму  2) OrderForm\n\n    // one input  настраиваемый инпут через пропсы\n\n    {/* <WrapperSelect> */ }\n    // WrapperSelect - <form> Select - type radio\n    const [order, setOrder] = useState<any>([]);\n\n    const dispatch = useAppDispatch();\n    const { cart } = useAppSelector(state => state.cart);\n\n    useEffect(() => {\n        let q: Object[] = [];\n        // let q:<Arrray<{title: string, price: string}>> = [];\n        cart.forEach((item: any) => q.push({ title: item.name, price: item.price }))\n        setOrder(q);\n        let w = 0;\n        cart.forEach((item: any) => {\n            w += item.quantity * item.price\n        });\n        setTotal(w);\n    }, [cart]);\n    \n    \n    const submitOrder = () => {\n        const date = Date().split(' ').slice(1, 4).toString();\n        api.post<any>('/telegram', {\n            \"order\": `№ ${date}`,\n            \"price\": `${total} P`,\n            \"owner\": `${username}`,\n            \"phone\": `${phone}`,\n            \"delivery\": `${deliverySelection[delivery]}`,\n            \"pay\": `${paySection[pay]}`,\n\n        },\n        )\n    }\n\n    return (\n        <OrderWrapper>\n            <TitleWrite>1. Контактные данные</TitleWrite>\n            <ContactsData>\n                <InputOrderWrapper>\n                    <InputOrderTitle >\n                        ФИО*\n                    </InputOrderTitle>\n                    <InputOrder placeholder='Введите ФИО' onChange={(e) => setUsername(prev => e.target.value)} />\n                </InputOrderWrapper>\n                <InputOrderWrapper>\n                    <InputOrderTitle>\n                        Телефон*\n                    </InputOrderTitle>\n                    <InputOrder placeholder='+7 --- --- -- --' onChange={(e) => setPhone(prev => e.target.value)}/>\n                </InputOrderWrapper>\n                <InputOrderWrapper>\n                    <InputOrderTitle>\n                        E-mail*\n                    </InputOrderTitle>\n                    <InputOrder placeholder='Введите E-mail' />\n                </InputOrderWrapper>\n            </ContactsData>\n            <TitleWrite>2. Выберите способ доставки</TitleWrite>\n            <WrapperSelect>\n                {deliverySelection.map((item: string, idx: number) =>\n                    <Select active={idx == delivery ? true : false}\n                        onClick={() => setDelivery(idx)}>{item}\n                    </Select>)}\n            </WrapperSelect>\n            <TitleWrite>3. Выберите способ оплаты</TitleWrite>\n            <WrapperSelect>\n                {paySection.map((item: string, idx: number) =>\n                    <Select active={idx == pay ? true : false}\n                        onClick={() => setPay(idx)}>{item}\n                    </Select>)}\n            </WrapperSelect>\n            {\n                delivery+1 && pay+1 ? <Button onClick={() => submitOrder()} disabled={ true}>\n                Оформить заказ\n            </Button> : false\n            }\n\n        </OrderWrapper>\n    )\n}\nexport default Order;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}